<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CodePilot1C — AI-плагин для 1C:EDT</title>
  <meta name="description" content="Open-source AI-плагин для 1C:EDT: чат, агентный режим, BSL AST, метаданные и формы, MCP, диагностика.">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>></text></svg>">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;700&family=PT+Sans:wght@400;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #0d1117;
      --bg-alt: #161b22;
      --border: #30363d;
      --text: #c9d1d9;
      --text-dim: #8b949e;
      --text-faint: #6e7681;
      --link: #58a6ff;
      --green: #3fb950;
      --purple: #bc8cff;
      --orange: #f0883e;
      --mono: 'JetBrains Mono', 'Consolas', monospace;
      --sans: 'PT Sans', sans-serif;
    }
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html { scrollbar-width: thin; scrollbar-color: var(--border) var(--bg); }
    body {
      font-family: var(--sans);
      background: var(--bg);
      color: var(--text);
      line-height: 1.7;
      font-size: 15px;
    }
    a { color: var(--link); text-decoration: none; }
    a:hover { text-decoration: underline; }
    .wrap { max-width: 820px; margin: 0 auto; padding: 0 24px; }

    header { padding: 80px 0 0; }
    header h1 {
      font-family: var(--mono);
      font-size: 24px;
      font-weight: 700;
      letter-spacing: -0.5px;
      margin-bottom: 12px;
    }
    header p {
      color: var(--text-dim);
      font-size: 16px;
      margin-bottom: 20px;
      max-width: 580px;
    }
    .badges { display: flex; gap: 8px; flex-wrap: wrap; margin-bottom: 32px; }
    .badge {
      display: inline-block;
      font-family: var(--mono);
      font-size: 11px;
      padding: 3px 10px;
      border-radius: 4px;
      border: 1px solid var(--border);
      color: var(--text-dim);
      background: var(--bg-alt);
    }

    .section { padding: 40px 0; border-top: 1px solid var(--border); }
    .section h2 {
      font-family: var(--mono);
      font-size: 16px;
      font-weight: 700;
      margin-bottom: 16px;
    }
    .section h3 {
      font-family: var(--mono);
      font-size: 14px;
      font-weight: 500;
      margin: 20px 0 8px;
    }

    .install-box {
      background: var(--bg-alt);
      border: 1px solid var(--border);
      border-radius: 6px;
      padding: 16px 20px;
      margin: 16px 0;
    }
    .install-box .label {
      font-family: var(--mono);
      font-size: 12px;
      color: var(--text-faint);
      margin-bottom: 8px;
    }
    .install-box code {
      font-family: var(--mono);
      font-size: 13px;
      color: var(--text-dim);
      display: block;
      word-break: break-all;
    }
    .install-steps { margin: 16px 0; padding-left: 20px; color: var(--text-dim); }
    .install-steps li { margin-bottom: 6px; }
    .install-steps code {
      font-family: var(--mono);
      font-size: 13px;
      background: var(--bg-alt);
      padding: 1px 6px;
      border-radius: 3px;
      border: 1px solid var(--border);
    }

    .code-window {
      background: var(--bg-alt);
      border: 1px solid var(--border);
      border-radius: 6px;
      overflow: hidden;
      margin: 24px 0;
    }
    .code-titlebar {
      padding: 8px 14px;
      background: #1c2128;
      border-bottom: 1px solid var(--border);
      font-family: var(--mono);
      font-size: 12px;
      color: var(--text-faint);
    }
    .code-body { display: grid; grid-template-columns: 1fr 1fr; }
    @media (max-width: 700px) { .code-body { grid-template-columns: 1fr; } }
    .code-left { padding: 16px; border-right: 1px solid var(--border); overflow-x: auto; }
    @media (max-width: 700px) { .code-left { border-right: none; border-bottom: 1px solid var(--border); } }
    .code-right { padding: 16px; }
    .code-label {
      font-family: var(--mono);
      font-size: 11px;
      color: var(--text-faint);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-bottom: 12px;
    }
    pre {
      font-family: var(--mono);
      font-size: 12px;
      line-height: 1.6;
      color: var(--text-dim);
      white-space: pre;
    }
    pre .kw { color: var(--purple); }
    pre .fn { color: var(--link); }
    pre .op { color: var(--text-dim); }

    .chat-line { margin-bottom: 12px; }
    .chat-who {
      font-family: var(--mono);
      font-size: 11px;
      color: var(--text-faint);
      margin-bottom: 2px;
    }
    .chat-who.user { color: var(--link); }
    .chat-who.ai { color: var(--green); }
    .chat-text { font-size: 13px; color: var(--text-dim); line-height: 1.6; }
    .chat-text code {
      font-family: var(--mono);
      font-size: 12px;
      background: var(--bg);
      padding: 1px 5px;
      border-radius: 3px;
    }

    .feature-list { margin: 0; padding: 0; list-style: none; }
    .feature-list li {
      padding: 12px 0;
      border-bottom: 1px solid var(--border);
      display: grid;
      grid-template-columns: 140px 1fr;
      gap: 12px;
    }
    .feature-list li:last-child { border-bottom: none; }
    .feature-name { font-family: var(--mono); font-size: 13px; font-weight: 500; }
    .feature-desc { font-size: 14px; color: var(--text-dim); }
    @media (max-width: 500px) { .feature-list li { grid-template-columns: 1fr; gap: 4px; } }

    .tools-table { width: 100%; border-collapse: collapse; font-size: 13px; margin: 12px 0; }
    .tools-table th {
      text-align: left;
      font-family: var(--mono);
      font-size: 12px;
      font-weight: 500;
      color: var(--text-faint);
      padding: 8px 12px;
      border-bottom: 1px solid var(--border);
    }
    .tools-table td {
      padding: 6px 12px;
      border-bottom: 1px solid var(--border);
      color: var(--text-dim);
    }
    .tools-table td:first-child { font-family: var(--mono); font-size: 12px; color: var(--text); }

    .compat-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
      gap: 8px;
      margin: 12px 0;
    }
    .compat-item {
      font-size: 14px;
      color: var(--text-dim);
      padding: 10px 14px;
      background: var(--bg-alt);
      border: 1px solid var(--border);
      border-radius: 6px;
    }
    .compat-item strong { color: var(--text); font-weight: 500; display: block; font-size: 13px; margin-bottom: 2px; }
    .compat-item span { font-size: 12px; color: var(--text-faint); }

    .links-list { list-style: none; padding: 0; }
    .links-list li { padding: 6px 0; }
    .links-list .desc { color: var(--text-faint); font-size: 13px; margin-left: 4px; }

    footer { padding: 32px 0; border-top: 1px solid var(--border); margin-top: 20px; }
    footer p { font-size: 13px; color: var(--text-faint); }
    footer a { color: var(--text-dim); }
  </style>
</head>
<body>
<div class="wrap">

  <header>
    <h1>CodePilot1C</h1>
    <p>AI-плагин для 1C:EDT. Чат и агентный режим, BSL AST, работа с метаданными и формами, диагностика и MCP. Подключите свою модель.</p>
    <div class="badges">
      <span class="badge">AGPL-3.0</span>
      <span class="badge">1C:EDT</span>
      <span class="badge">Java 17+</span>
      <span class="badge">v0.1.x</span>
    </div>
  </header>

  <div class="section" id="install">
    <h2>Установка</h2>
    <div class="install-box">
      <div class="label">Update Site</div>
      <code>https://ondysss.github.io/codepilot1c-edt/</code>
    </div>
    <ol class="install-steps">
      <li>Откройте <code>Справка → Установить новое ПО...</code> (<code>Help → Install New Software...</code>)</li>
      <li>Нажмите <code>Добавить...</code> (<code>Add...</code>) и добавьте URL update site</li>
      <li>В <code>Work with</code> выберите <code>codepilot - https://ondysss.github.io/codepilot1c-edt/</code></li>
      <li>Выберите «1C Copilot», нажмите <code>Next</code>, примите лицензию и <code>Finish</code></li>
      <li>Подтвердите окна <code>Trust Authorities</code> и <code>Trust Artifacts</code> через <code>Trust Selected</code></li>
      <li>Перезапустите EDT</li>
    </ol>
    <h3>Настройка модели</h3>
    <p style="color: var(--text-dim);">
      Откройте настройки 1C Copilot и добавьте провайдер.<br>
      Для локальной работы: <a href="https://ollama.com" target="_blank" rel="noopener">Ollama</a> с endpoint <code>http://localhost:11434/v1</code> и моделью <code>qwen2.5-coder:7b</code>.<br>
      Для API: OpenAI, Anthropic или любой OpenAI-совместимый сервис.
    </p>
  </div>

  <div class="section">
    <h2>Пример</h2>
    <div class="code-window">
      <div class="code-titlebar">СписаниеТоваров.bsl</div>
      <div class="code-body">
        <div class="code-left">
          <div class="code-label">Код модуля</div>
<pre><span class="kw">Процедура</span> <span class="fn">ОбработкаПроведения</span>(Отказ, РежимПроведения)

    Движения.ТоварыНаСкладах.Записывать <span class="op">=</span> <span class="kw">Истина</span>;

    <span class="kw">Для Каждого</span> СтрокаТовары <span class="kw">Из</span> Товары <span class="kw">Цикл</span>
        Движение <span class="op">=</span> Движения.ТоварыНаСкладах.<span class="fn">Добавить</span>();
        Движение.ВидДвижения <span class="op">=</span>
            ВидДвиженияНакопления.Расход;
        Движение.Период       <span class="op">=</span> Дата;
        Движение.Номенклатура <span class="op">=</span> СтрокаТовары.Номенклатура;
        Движение.Склад        <span class="op">=</span> Склад;
        Движение.Количество   <span class="op">=</span> СтрокаТовары.Количество;
    <span class="kw">КонецЦикла</span>;

<span class="kw">КонецПроцедуры</span></pre>
        </div>
        <div class="code-right">
          <div class="code-label">CodePilot1C</div>
          <div class="chat-line">
            <div class="chat-who user">> вы</div>
            <div class="chat-text">Объясни этот модуль. Есть ли проблемы?</div>
          </div>
          <div class="chat-line">
            <div class="chat-who ai">> codepilot</div>
            <div class="chat-text">
              Обработка проведения документа «Списание товаров».
              Формирует движения по регистру <code>ТоварыНаСкладах</code> с видом «Расход».<br><br>
              Проблемы:<br>
              — Нет контроля остатков (возможны отрицательные)<br>
              — Нет блокировки данных при проведении<br>
              — Поле <code>Сумма</code> не заполняется
            </div>
          </div>
          <div class="chat-line">
            <div class="chat-who user">> вы</div>
            <div class="chat-text">Добавь контроль остатков и блокировку</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="section" id="features">
    <h2>Возможности</h2>
    <ul class="feature-list">
      <li><span class="feature-name">Чат</span><span class="feature-desc">Объяснение, ревью, рефакторинг и ответы по коду. Streaming-ответы.</span></li>
      <li><span class="feature-name">Агентный режим</span><span class="feature-desc">Автономное выполнение задач: агент читает проект, вызывает инструменты, вносит правки и проверяет результат.</span></li>
      <li><span class="feature-name">Профили доступа</span><span class="feature-desc">build / plan / explore: контроль прав и наборов инструментов для разных сценариев.</span></li>
      <li><span class="feature-name">Файлы проекта</span><span class="feature-desc">read / write / edit / grep / glob — прямой доступ к файлам и их содержимому.</span></li>
      <li><span class="feature-name">BSL AST</span><span class="feature-desc">Поиск символов, типов, членов области видимости, списка методов и тела процедуры/функции.</span></li>
      <li><span class="feature-name">Метаданные</span><span class="feature-desc">Просмотр, создание, изменение и удаление объектов конфигурации с валидацией.</span></li>
      <li><span class="feature-name">Управляемые формы</span><span class="feature-desc">Инспекция layout, массовые рецепты, точечные мутации элементов и реквизитов.</span></li>
      <li><span class="feature-name">СКД</span><span class="feature-desc">Создание схемы, наборы данных, параметры и вычисляемые поля.</span></li>
      <li><span class="feature-name">Расширения</span><span class="feature-desc">Создание расширений, принятие объектов, управление состояниями свойств.</span></li>
      <li><span class="feature-name">Внешние объекты</span><span class="feature-desc">Создание внешних отчётов/обработок и доступ к их деталям.</span></li>
      <li><span class="feature-name">Диагностика</span><span class="feature-desc">get_diagnostics, smoke-прогоны, трассировка экспорта.</span></li>
      <li><span class="feature-name">MCP</span><span class="feature-desc">Клиент и host: подключение внешних инструментов и публикация своих.</span></li>
      <li><span class="feature-name">Команды</span><span class="feature-desc">Explain, Fix, Generate, Optimize, Find Similar — из контекстного меню редактора.</span></li>
      <li><span class="feature-name">Провайдеры</span><span class="feature-desc">Ollama, OpenAI, Anthropic, любой OpenAI-compatible API. Данные остаются у вас.</span></li>
    </ul>
  </div>

  <div class="section">
    <h2>Инструменты агента</h2>
    <table class="tools-table">
      <thead><tr><th>Инструмент</th><th>Описание</th></tr></thead>
      <tbody>
        <tr><td>read_file / write_file / edit_file</td><td>Чтение, создание и редактирование файлов проекта</td></tr>
        <tr><td>list_files / grep / glob</td><td>Поиск файлов и текста по проекту</td></tr>
        <tr><td>edt_content_assist / edt_find_references</td><td>AST-инструменты: подсказки и ссылки</td></tr>
        <tr><td>bsl_symbol_at_position / bsl_type_at_position</td><td>Символы и типы BSL по позиции</td></tr>
        <tr><td>bsl_scope_members / bsl_list_methods / bsl_get_method_body</td><td>Область видимости и точечная работа с процедурами</td></tr>
        <tr><td>scan_metadata_index / edt_metadata_details / edt_field_type_candidates</td><td>Инспекция метаданных и типов</td></tr>
        <tr><td>create_metadata / update_metadata / add_metadata_child / delete_metadata</td><td>Создание и изменение объектов конфигурации</td></tr>
        <tr><td>create_form / inspect_form_layout / apply_form_recipe / mutate_form_model</td><td>Работа с управляемыми формами</td></tr>
        <tr><td>dcs_get_summary / dcs_list_nodes / dcs_create_main_schema</td><td>Инспекция и создание схемы СКД</td></tr>
        <tr><td>dcs_upsert_query_dataset / dcs_upsert_parameter / dcs_upsert_calculated_field</td><td>Мутации СКД: наборы данных, параметры, вычисляемые поля</td></tr>
        <tr><td>extension_list_projects / extension_create_project / extension_adopt_object</td><td>Расширения: поиск, создание, принятие объектов</td></tr>
        <tr><td>extension_set_property_state</td><td>Управление состояниями свойств в расширениях</td></tr>
        <tr><td>external_list_projects / external_list_objects / external_get_details</td><td>Внешние отчёты/обработки: поиск и детали</td></tr>
        <tr><td>external_create_report / external_create_processing</td><td>Создание внешних объектов</td></tr>
        <tr><td>get_diagnostics / edt_metadata_smoke / edt_extension_smoke / edt_external_smoke</td><td>Диагностика и smoke-прогоны</td></tr>
        <tr><td>edt_trace_export</td><td>Трассировка экспорта метаданных</td></tr>
        <tr><td>mcp_&lt;server&gt;_&lt;tool&gt;</td><td>Динамические инструменты от подключённых MCP-серверов</td></tr>
      </tbody>
    </table>
  </div>

  <div class="section">
    <h2>Совместимость</h2>
      <div class="compat-grid">
      <div class="compat-item"><strong>1C:EDT</strong><span>2024.1+</span></div>
      <div class="compat-item"><strong>Ollama</strong><span>Локальные модели</span></div>
      <div class="compat-item"><strong>OpenAI API</strong><span>Любые модели с OpenAI-совместимым интерфейсом</span></div>
      <div class="compat-item"><strong>Anthropic</strong><span>Claude Sonnet, Opus</span></div>
      <div class="compat-item"><strong>OpenAI-compatible</strong><span>LM Studio, vLLM, Together</span></div>
      <div class="compat-item"><strong>ОС</strong><span>Windows, Linux, macOS</span></div>
    </div>
  </div>

  <div class="section" id="links">
    <h2>Ссылки</h2>
    <ul class="links-list">
      <li><a href="https://github.com/ondysss/codepilot1c-edt" target="_blank" rel="noopener">GitHub</a> <span class="desc">— исходный код, issues, releases</span></li>
      <li><a href="https://t.me/ai_1c_dev" target="_blank" rel="noopener">Telegram</a> <span class="desc">— обсуждение, вопросы, фидбек</span></li>
      <li><a href="https://github.com/ondysss/codepilot1c-edt/blob/main/LICENSE" target="_blank" rel="noopener">Лицензия</a> <span class="desc">— GNU AGPL v3.0</span></li>
    </ul>
  </div>

  <footer>
    <p>CodePilot1C · <a href="https://github.com/ondysss/codepilot1c-edt/blob/main/LICENSE">AGPL-3.0</a> · 2025–2026</p>
  </footer>

</div>
</body>
</html>
